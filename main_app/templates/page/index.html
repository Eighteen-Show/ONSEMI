<!DOCTYPE html>
<html lang="ko">
<head>
{% extends "layout.html" %}
{% load static %}

{% block title %}ONSEMI{% endblock %}

{% block extra_css %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="{% static 'base.css' %}">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
{% endblock %}
</head>
<body>
{% block content %}
<style>
    .header {
        background-color: #e7f5fe;

    }
</style>
    <div class="main-content">
        <div class="text-container">
            <h1>함께하면 희망이 솟아나는 우리</h1>
            <h2>온새미</h2>
            <p>온새미 홈페이지에 방문해 주신 여러분을 진심으로 환영합니다.</p>
        </div>
        <div class="image-container">
            <img src="{% static 'main/onsemi2.png' %}" alt="Main Image">
        </div>
{% endblock %}

<script>
    // 로그인 안 하고 채팅을 클릭했을 때
    document.addEventListener('DOMContentLoaded', function() {
        const chatLink = document.getElementById('chat-link'); // 채팅 링크의 ID가 'chat-icon'이라고 가정

        chatLink.addEventListener('click', function(e) {
            e.preventDefault(); // 기본 링크 동작 방지

            fetch('qa/chatting/') // 채팅 URL에 대한 요청
                .then(response => {
                    if (response.ok) {
                        window.location.href = 'qa/chatting/'; // 로그인이 되어 있으면 채팅 페이지로 이동
                    } else {
                        return response.json(); // 오류 메시지를 JSON 형태로 받기
                    }
                })
                .then(data => {
                    if (data && data.login_required) {
                        alert(data.error); // 경고창으로 메시지 표시
                    }
                })
                .catch(error => console.error('Error:', error));
        });
    });
</script>


</body>
</html>
