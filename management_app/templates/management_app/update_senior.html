{% extends "layout.html" %}
{% load static %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    {% block title %}Update Senior{% endblock %}
    {% block extra_css %}
    <link rel="stylesheet" href="{% static 'base.css' %}">
    {% endblock %}
</head>
<body>
    {% block content %}
    <h1>Update {{ senior.name }}'s Details</h1>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <p>
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" value="{{ senior.name }}">
        </p>
        <p>
            <label for="age">Age:</label>
            <input type="number" id="age" name="age" value="{{ senior.age }}">
        </p>
        <p>
            <label>Gender:</label>
            <input type="radio" id="Male" name="gender" value="Male" {% if senior.gender == 'Male' %}checked{% endif %}>
            <label for="Male">Male</label>
            <input type="radio" id="Female" name="gender" value="Female" {% if senior.gender == 'Female' %}checked{% endif %}>
            <label for="Female">Female</label>
        </p>
        <p>
            <label for="phone">Phone:</label>
            <input type="text" id="phone" name="phone" value="{{ senior.phone_number }}">
        </p>
        <p>
            <label for="has_alzheimers">치매 유:</label>
            <input type="radio" id="has_alzheimers_yes" name="has_alzheimers" value="True" {% if senior.has_alzheimers %}checked{% endif %}>
            <label for="has_alzheimers_yes">유</label>
            <input type="radio" id="has_alzheimers_no" name="has_alzheimers" value="False" {% if not senior.has_alzheimers %}checked{% endif %}>
            <label for="has_alzheimers_no">무</label>
        </p>
        <p>
            <label for="has_parkinsons">파킨슨 유:</label>
            <input type="radio" id="has_parkinsons_yes" name="has_parkinsons" value="True" {% if senior.has_parkinsons %}checked{% endif %}>
            <label for="has_parkinsons_yes">유</label>
            <input type="radio" id="has_parkinsons_no" name="has_parkinsons" value="False" {% if not senior.has_parkinsons %}checked{% endif %}>
            <label for="has_parkinsons_no">무</label>
        </p>
        <p>
            <label for="photo">사진:</label>
            <input type="file" id="photo" name="photo">
            {% if senior.photo %}
                <br>
                <img src="{{ senior.photo.url }}" alt="{{ senior.name }}'s photo" style="max-width:200px; max-height:200px;"><br>
            {% endif %}
        </p>
        <button type="submit">Update</button>
    </form>
    <form method="post" action="{% url 'management:delete_senior' senior.id %}" onsubmit="return confirm('정말로 삭제하시겠습니까?');">
        {% csrf_token %}
        <button type="submit" style="color: red;">Delete</button>
    </form>
    <br>
    <a href="{% url 'management:list_senior' %}">Back to List</a>
    {% endblock %}
</body>
</html>